(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{872:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var l=s(7876),a=s(4232),r=s(1040);s(5364);let n="";n="/api";let i=r.A.create({baseURL:n,headers:{"Content-Type":"application/json"}}),c=async e=>{let t=new FormData;t.append("file",e);try{return(await i.post("/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){throw console.error("File upload error:",e),e}};function d(){let[e,t]=(0,a.useState)(null),[s,r]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[o,h]=(0,a.useState)(null),u=async()=>{try{let e=await i.get("/health");t(e.data),h(null)}catch(e){h("Failed to check health"),console.error(e)}},p=async()=>{try{let e=await i.get("/redis-test");r(e.data.visit_count),h(null)}catch(e){h("Failed to check Redis"),console.error(e)}},x=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];if(s)try{let e=await c(s);d(e),h(null)}catch(e){h("File upload failed"),console.error(e)}};return(0,l.jsxs)("div",{className:"container mx-auto p-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Flask Backend Interaction"}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("button",{onClick:u,className:"bg-blue-500 text-white px-4 py-2 rounded mr-2",children:"Check Health"}),e&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["Status: ",e.status]}),e.services&&"object"==typeof e.services&&!Array.isArray(e.services)?(0,l.jsx)("div",{children:Object.entries(e.services).map(e=>{let[t,s]=e;return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)("p",{children:[t,": ",String(s)]})},t)})}):e.services&&(0,l.jsxs)("p",{children:["Services: ",e.services.join(", ")]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("button",{onClick:p,className:"bg-green-500 text-white px-4 py-2 rounded mr-2",children:"Check Redis"}),null!==s&&(0,l.jsxs)("p",{children:["Visit Count: ",s]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("input",{type:"file",onChange:x,className:"mb-2"}),n&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["Uploaded File: ",n.file_name]}),(0,l.jsxs)("p",{children:["URL: ",n.blob_url]}),(0,l.jsxs)("p",{children:["Container: ",n.container]})]})]}),o&&(0,l.jsx)("div",{className:"text-red-500 mt-4",children:o})]})}},6760:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(872)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[40,636,593,792],()=>t(6760)),_N_E=e.O()}]);